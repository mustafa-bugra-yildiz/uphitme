{{ define "content" }}
<!-- Mobile menu toggle -->
<button class="menu-toggle fixed top-5 left-5 z-200 bg-white border border-gray-200 rounded-md p-2 cursor-pointer shadow-sm">
  <i class="fas fa-bars text-gray-800 text-xl"></i>
</button>

<!-- Sidebar -->
<aside class="sidebar fixed h-full w-[300px] bg-white border-r border-gray-200 flex flex-col z-100 transition-transform ease-in-out">
  <div class="sidebar-header p-7 border-b border-gray-200">
    <h1 class="text-lg font-semibold text-gray-800">uphit.me</h1>
    <p class="text-sm text-gray-600 mt-1">Task Scheduling Made Easy</p>
  </div>

  <nav class="nav-menu flex-1 overflow-y-auto py-5">
    <a href="/dashboard" class="nav-item block px-6 py-2 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 transition duration-200 border-l-2 border-transparent flex items-center gap-3">
      <i class="fas fa-chart-line text-base"></i> Home
    </a>
    <a href="/dashboard/scheduler" class="nav-item block px-6 py-2 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 transition duration-200 border-l-2 border-transparent flex items-center gap-3">
      <i class="fas fa-calendar-alt text-base"></i> Scheduler
    </a>
    <a href="/dashboard/billing-usage" class="nav-item block px-6 py-2 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 transition duration-200 border-l-2 border-transparent flex items-center gap-3">
      <i class="fas fa-credit-card text-base"></i> Billing/Usage
    </a>
  </nav>

  <!-- User profile section at the bottom -->
  <a href="/dashboard/profile" class="user-profile block p-4 border-t border-gray-200 cursor-pointer hover:bg-gray-100 transition duration-200">
    <div class="user-profile-content flex items-center gap-3">
      <div class="user-avatar w-9 h-9 bg-blue-100 text-blue-500 rounded-full flex items-center justify-center font-semibold text-sm">
        U
      </div>
      <div class="user-details overflow-hidden">
        <p class="user-name text-sm font-medium text-gray-800 truncate">User Name</p>
        <p class="user-email text-xs text-gray-600 truncate">user@example.com</p>
      </div>
    </div>
  </a>

  <div class="sidebar-footer p-0 pl-6 pb-6 pr-6">
    <form action="/sign-out" method="POST">
      <button type="submit" class="sign-out-btn w-full bg-transparent border border-gray-200 rounded-md py-2 px-3 text-sm text-gray-600 cursor-pointer flex items-center justify-center gap-2 transition duration-200 hover:bg-gray-100 hover:text-gray-800">
        <i class="fas fa-sign-out-alt"></i> Sign Out
      </button>
    </form>
  </div>
</aside>

<!-- Main Content -->
<main class="main-content flex-1 ml-[300px] p-10 w-full min-h-screen">
  <div class="content-area bg-white rounded-lg shadow-md p-8 min-h-[calc(100vh-80px)]">
    <!-- Content Template Here -->
    <div class="tab-content">
      {{ template "tab" . }}
    </div>
  </div>
</main>

<!-- JavaScript for mobile menu toggle and view transitions -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const menuToggle = document.getElementById('menuToggle');
    const sidebar = document.getElementById('sidebar');

    // Mobile menu toggle
    menuToggle.addEventListener('click', function() {
      sidebar.classList.toggle('active');
    });

    // Close sidebar when clicking outside on mobile
    document.addEventListener('click', function(event) {
      const isClickInsideSidebar = sidebar.contains(event.target);
      const isClickOnMenuToggle = menuToggle.contains(event.target);

      if (!isClickInsideSidebar && !isClickOnMenuToggle && window.innerWidth <= 768) {
        sidebar.classList.remove('active');
      }
    });
  });
</script>
{{ end }}
