{{ define "layout" }}
<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>uphit.me - Task Scheduling Made Easy</title>
	<style>
		/* Basic Reset */
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		/* View Transitions API */
		@view-transition {
			navigation: auto;
		}

		/* Variables */
		:root {
			--accent: #3182ce;
			--accent-light: #ebf8ff;
			--accent-dark: #2c5282;
			--text-primary: #333;
			--text-secondary: #666;
			--text-tertiary: #999;
			--bg-primary: #ffffff;
			--bg-secondary: #f9fafb;
			--border-light: #eee;
			--shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.03);
			--shadow-md: 0 1px 3px rgba(0, 0, 0, 0.05);
			--transition-standard: all 0.2s ease;
			--sidebar-width: 300px;
		}

		/* Body */
		body {
			font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
			background-color: var(--bg-secondary);
			color: var(--text-primary);
			line-height: 1.5;
			display: flex;
			min-height: 100vh;
			overflow-x: hidden;
		}

		/* Sidebar */
		.sidebar {
			width: var(--sidebar-width);
			background-color: var(--bg-primary);
			border-right: 1px solid var(--border-light);
			display: flex;
			flex-direction: column;
			position: fixed;
			height: 100vh;
			z-index: 100;
			transition: transform 0.3s ease;
		}

		.sidebar-header {
			padding: 28px 24px;
			border-bottom: 1px solid var(--border-light);
		}

		.sidebar-header h1 {
			font-size: 20px;
			font-weight: 600;
			color: var(--text-primary);
		}

		.sidebar-header p {
			font-size: 13px;
			color: var(--text-secondary);
			margin-top: 2px;
		}

		/* Navigation */
		.nav-menu {
			flex: 1;
			overflow-y: auto;
			padding: 20px 0;
		}

		.nav-item {
			display: block;
			padding: 10px 24px;
			font-size: 14px;
			color: var(--text-secondary);
			text-decoration: none;
			display: flex;
			align-items: center;
			gap: 12px;
			transition: var(--transition-standard);
			margin: 2px 0;
			border-left: 2px solid transparent;
		}

		.nav-item:hover {
			color: var(--text-primary);
			background-color: var(--bg-secondary);
		}

		.nav-item.active {
			color: var(--accent);
			border-left: 2px solid var(--accent);
			background-color: var(--accent-light);
			font-weight: 500;
		}

		.nav-item i {
			font-size: 16px;
			width: 20px;
			text-align: center;
		}

		/* User profile in sidebar footer */
		.user-profile {
			padding: 16px 24px;
			border-top: 1px solid var(--border-light);
			cursor: pointer;
			transition: var(--transition-standard);
			text-decoration: none;
			color: inherit;
			display: block;
		}

		.user-profile:hover {
			background-color: var(--bg-secondary);
		}

		.user-profile-content {
			display: flex;
			align-items: center;
			gap: 12px;
		}

		.user-avatar {
			width: 36px;
			height: 36px;
			background-color: var(--accent-light);
			border-radius: 50%;
			display: flex;
			align-items: center;
			justify-content: center;
			color: var(--accent);
			font-weight: 500;
			font-size: 14px;
			flex-shrink: 0;
		}

		.user-details {
			overflow: hidden;
		}

		.user-name {
			font-size: 14px;
			font-weight: 500;
			color: var(--text-primary);
			margin-bottom: 2px;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		.user-email {
			font-size: 12px;
			color: var(--text-secondary);
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* Sidebar footer with logout */
		.sidebar-footer {
			padding: 0 24px 24px 24px;
		}

		.sign-out-btn {
			width: 100%;
			background: none;
			border: 1px solid var(--border-light);
			border-radius: 4px;
			padding: 10px 12px;
			font-size: 13px;
			color: var(--text-secondary);
			cursor: pointer;
			font-family: inherit;
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 8px;
			transition: var(--transition-standard);
		}

		.sign-out-btn:hover {
			background-color: var(--bg-secondary);
			color: var(--text-primary);
		}

		/* Main Content */
		.main-content {
			flex: 1;
			margin-left: var(--sidebar-width);
			padding: 40px;
			width: calc(100% - var(--sidebar-width));
			min-height: 100vh;
		}

		.content-area {
			background-color: var(--bg-primary);
			border-radius: 8px;
			box-shadow: var(--shadow-md);
			padding: 32px;
			min-height: calc(100vh - 80px);
		}

		/* Mobile menu toggle */
		.menu-toggle {
			display: none;
			position: fixed;
			top: 20px;
			left: 20px;
			z-index: 200;
			background-color: var(--bg-primary);
			border: 1px solid var(--border-light);
			border-radius: 4px;
			padding: 8px;
			cursor: pointer;
			box-shadow: var(--shadow-sm);
		}

		.menu-toggle i {
			font-size: 18px;
			color: var(--text-primary);
		}

		/* Task Item */
		.task {
			padding: 20px 0;
			border-bottom: 1px solid var(--border-light);
			display: flex;
			flex-direction: column;
			gap: 15px;
		}

		.task:last-child {
			border-bottom: none;
		}

		/* Status Icon */
		.task .status {
			width: 24px;
			height: 24px;
			border-radius: 50%;
			display: flex;
			justify-content: center;
			align-items: center;
			font-size: 12px;
			flex-shrink: 0;
		}

		/* Status Icon - FontAwesome */
		.task .status.pending i {
			color: #f0b429;
		}

		.task .status.failed i {
			color: #e12d39;
		}

		.task .status.succeeded i {
			color: #0ca678;
		}

		/* Title */
		.task .title {
			font-size: 16px;
			font-weight: 600;
			color: var(--text-primary);
		}

		/* Target */
		.task .target {
			font-size: 14px;
			color: var(--text-secondary);
		}

		/* Time */
		.task .time {
			font-size: 12px;
			color: var(--text-tertiary);
		}

		.task .time p {
			margin: 2px 0;
			display: flex;
			align-items: center;
			gap: 4px;
		}

		.task .time i {
			color: var(--text-tertiary);
			width: 14px;
			text-align: center;
		}

		/* Task Details */
		.task p {
			color: var(--text-secondary);
			font-size: 14px;
		}

		/* Code Block */
		.task code {
			display: block;
			background-color: var(--bg-secondary);
			border-radius: 4px;
			padding: 12px 16px;
			font-size: 13px;
			overflow-x: auto;
			width: 100%;
			line-height: 1.5;
			border: 1px solid var(--border-light);
			font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
			color: var(--text-primary);
			margin-top: 8px;
		}

		.task pre {
			margin: 0;
			white-space: pre-wrap;
		}

		/* Error & Result */
		.task .error, .task .result {
			font-size: 13px;
			color: var(--text-primary);
			margin-top: 12px;
			padding: 12px 16px;
			background-color: var(--bg-secondary);
			border-left: 3px solid var(--border-light);
			border-radius: 0;
		}

		.task .error {
			border-left-color: #e12d39;
		}

		.task .result {
			border-left-color: #0ca678;
		}

		.task > .result > code {
			background-color: transparent;
			border: none;
			padding: 0;
			margin-top: 8px;
		}

		/* Flexbox Layout */
		.flex {
			display: flex;
		}

		.flex.space-between {
			justify-content: space-between;
		}

		.gap-8 {
			gap: 8px;
		}

		.flex-col {
			flex-direction: column;
		}

		.gap-2 {
			gap: 2px;
		}

		/* Pagination */
		.pagination {
			display: flex;
			justify-content: center;
			align-items: center;
			margin-top: 30px;
			font-size: 14px;
			gap: 15px;
		}

		.pagination p {
			color: var(--text-secondary);
			font-weight: 400;
		}

		.pagination a {
			text-decoration: none;
			color: var(--accent);
			font-size: 14px;
			padding: 6px 12px;
			transition: var(--transition-standard);
			font-weight: 400;
		}

		.pagination a:hover {
			text-decoration: underline;
		}

		.items-center { align-items: center; }
		.w-full { width: 100%; }
		.justify-center { justify-content: center; }
		
		/* Section labels */
		.section-label {
			font-size: 12px;
			color: var(--text-secondary);
			margin-bottom: 4px;
			font-weight: 500;
		}

		/* Card styles */
		.card {
			background-color: var(--bg-primary);
			border: 1px solid var(--border-light);
			border-radius: 6px;
			padding: 20px;
			margin-bottom: 20px;
		}

		.card-header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			margin-bottom: 15px;
		}

		.card-title {
			font-size: 16px;
			font-weight: 600;
			color: var(--text-primary);
		}

		.card-content {
			color: var(--text-secondary);
			font-size: 14px;
		}

		/* Form elements */
		.form-group {
			margin-bottom: 20px;
		}

		.form-label {
			display: block;
			margin-bottom: 6px;
			font-size: 14px;
			font-weight: 500;
			color: var(--text-primary);
		}

		.form-input {
			width: 100%;
			padding: 8px 12px;
			border: 1px solid var(--border-light);
			border-radius: 4px;
			font-size: 14px;
			font-family: inherit;
		}

		.form-input:focus {
			outline: none;
			border-color: var(--accent);
		}

		.btn {
			background-color: var(--accent);
			color: white;
			border: none;
			border-radius: 4px;
			padding: 8px 16px;
			font-size: 14px;
			cursor: pointer;
			font-family: inherit;
			transition: var(--transition-standard);
		}

		.btn:hover {
			background-color: var(--accent-dark);
		}

		.btn-secondary {
			background-color: var(--bg-secondary);
			color: var(--text-primary);
			border: 1px solid var(--border-light);
		}

		.btn-secondary:hover {
			background-color: var(--border-light);
		}

		/* Stats card */
		.stats-grid {
			display: grid;
			grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
			gap: 20px;
			margin-bottom: 30px;
		}

		.stat-card {
			background-color: var(--bg-primary);
			border-radius: 6px;
			padding: 15px;
			text-align: center;
			border: 1px solid var(--border-light);
		}

		.stat-value {
			font-size: 24px;
			font-weight: 600;
			color: var(--text-primary);
			margin-bottom: 5px;
		}

		.stat-label {
			font-size: 13px;
			color: var(--text-secondary);
		}

		/* Table styles */
		.table-container {
			overflow-x: auto;
			margin-bottom: 20px;
		}

		table {
			width: 100%;
			border-collapse: collapse;
		}

		th, td {
			padding: 12px 15px;
			text-align: left;
			border-bottom: 1px solid var(--border-light);
		}

		th {
			font-weight: 500;
			color: var(--text-primary);
			font-size: 13px;
		}

		td {
			font-size: 14px;
			color: var(--text-secondary);
		}

		/* Badge */
		.badge {
			display: inline-block;
			padding: 3px 8px;
			border-radius: 12px;
			font-size: 12px;
			font-weight: 500;
		}

		.badge-success {
			background-color: #e6f7f0;
			color: #0ca678;
		}

		.badge-warning {
			background-color: #fef3d7;
			color: #f0b429;
		}

		.badge-danger {
			background-color: #fbe8ea;
			color: #e12d39;
		}

		/* Chart placeholder */
		.chart-placeholder {
			width: 100%;
			height: 250px;
			background-color: var(--bg-secondary);
			border: 1px dashed var(--border-light);
			border-radius: 6px;
			display: flex;
			justify-content: center;
			align-items: center;
			color: var(--text-secondary);
			font-size: 14px;
			margin-bottom: 20px;
		}

		/* Tooltip styles */
		[data-tooltip] {
			position: relative;
			cursor: help;
		}

		[data-tooltip]:hover::after {
			content: attr(data-tooltip);
			position: absolute;
			top: -28px;
			left: 50%;
			transform: translateX(-50%);
			background-color: var(--text-primary);
			color: white;
			padding: 4px 8px;
			border-radius: 4px;
			font-size: 11px;
			white-space: nowrap;
			z-index: 10;
		}

		/* Mobile responsiveness */
		@media (max-width: 768px) {
			.sidebar {
				transform: translateX(-100%);
				box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
			}
			
			.sidebar.active {
				transform: translateX(0);
			}
			
			.main-content {
				margin-left: 0;
				width: 100%;
				padding: 20px;
				padding-top: 70px;
			}
			
			.menu-toggle {
				display: block;
			}
			
			.content-area {
				padding: 20px;
				min-height: calc(100vh - 100px);
			}
			
			.stats-grid {
				grid-template-columns: repeat(2, 1fr);
			}

			/* Hide tooltips on mobile */
			[data-tooltip]:hover::after {
				display: none;
			}
		}

		@media (max-width: 480px) {
			.main-content {
				padding: 15px;
				padding-top: 70px;
			}
			
			.content-area {
				padding: 15px;
			}
			
			.stats-grid {
				grid-template-columns: 1fr;
			}
			
			.task .title {
				font-size: 15px;
			}

			.task .target {
				font-size: 13px;
			}
		}
	</style>
	<!-- FontAwesome for icons -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
	<!-- Inter font -->
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap">
</head>

<body>
	<!-- Mobile menu toggle -->
	<button class="menu-toggle" id="menuToggle">
		<i class="fas fa-bars"></i>
	</button>

	<!-- Sidebar -->
	<aside class="sidebar" id="sidebar">
		<div class="sidebar-header">
			<h1>uphit.me</h1>
			<p>Task Scheduling Made Easy</p>
		</div>
		
		<nav class="nav-menu">
			<a href="/dashboard" class="nav-item {{ isActive "home" .tab }}">
				<i class="fas fa-chart-line"></i> Home
			</a>
			<a href="/dashboard/scheduler" class="nav-item {{ isActive "scheduler" .tab }}">
				<i class="fas fa-calendar-alt"></i> Scheduler
			</a>
			<a href="/dashboard/billing-usage" class="nav-item {{ isActive "billing-usage" .tab }}">
				<i class="fas fa-credit-card"></i> Billing/Usage
			</a>
		</nav>
		
		<!-- User profile section at the bottom -->
		<a href="/dashboard/profile" class="user-profile">
			<div class="user-profile-content">
				<div class="user-avatar">
					{{ if .user.FullName }}
						{{ slice .user.FullName 0 1 }}
					{{ else }}
						U
					{{ end }}
				</div>
				<div class="user-details">
					<p class="user-name">{{ .user.FullName }}</p>
					<p class="user-email">{{ .user.Email }}</p>
				</div>
			</div>
		</a>
		
		<div class="sidebar-footer">
			<form action="/sign-out" method="POST">
				<button type="submit" class="sign-out-btn">
					<i class="fas fa-sign-out-alt"></i> Sign Out
				</button>
			</form>
		</div>
	</aside>

	<!-- Main Content -->
	<main class="main-content">
		<div class="content-area">
			{{ template "content" . }}
		</div>
	</main>

	<!-- JavaScript for mobile menu toggle and view transitions -->
	<script>
		document.addEventListener('DOMContentLoaded', function() {
			const menuToggle = document.getElementById('menuToggle');
			const sidebar = document.getElementById('sidebar');
			
			// Mobile menu toggle
			menuToggle.addEventListener('click', function() {
				sidebar.classList.toggle('active');
			});
			
			// Close sidebar when clicking outside on mobile
			document.addEventListener('click', function(event) {
				const isClickInsideSidebar = sidebar.contains(event.target);
				const isClickOnMenuToggle = menuToggle.contains(event.target);
				
				if (!isClickInsideSidebar && !isClickOnMenuToggle && window.innerWidth <= 768) {
					sidebar.classList.remove('active');
				}
			});
		});
	</script>
</body>

</html>
{{ end }}

